RewriteEngine On
RewriteBase /

# Set the default DirectoryIndex to index.php
DirectoryIndex index.php

# Skip rewriting for files and directories that exist
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# If the request starts with /api/, route it to api/index.php
RewriteCond %{REQUEST_URI} ^/api/ [NC]
RewriteRule ^api/(.*)$ api/index.php [QSA,L]

# Rewrite all other requests to index.php (non-API routes)
RewriteRule ^ index.php [QSA,L]
